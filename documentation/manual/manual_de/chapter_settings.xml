<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
    "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<chapter id="settings">
	<title>Einstellungen</title>
	
	<sect1 id="settings.projects">
		<title>Projekte</title>
		
		<sect2 id="settings.projects.introduction">
			<title>Einführung</title>
			
			<para>
				Mit Welcompose können beliebig viele Projekte angelegt und unabhängig voneinander verwaltet werden
			</para>
			
			<para>
				So können mit Welcompose bspw. verschiedene Sprachversionen einer Webseite bereit gestellt werden,
				eine oder mehrere Micro-Site(s) zu ergänzenden Themen angelegt oder sonstige Schwerpunktbereiche
				als eigene Projekte in Ihren Webauftritt integriert werden.
			</para>
		</sect2>
		
		<sect2 id="settings.projects.manage">
			<title>Verwaltung</title>
			
			<figure id="settings.projects.project_manage">
				<title>Übersicht über die vorhandenen Projekte</title>
				<graphic fileref="images/settings/projects/project_manage.png"/>
			</figure>
			
			<para>
				Die Übersicht der vorhandenen Projekte in alphabetischer Reihenfolge bietet neben der Anzeige
				des Projektnamens, Links zum Bearbeitung und Löschen eines Projektes, sowie den Link zum 
				<guibutton>Neu anlegen</guibutton> eines Projektes.
			</para>
			
			<para>
				Um ein Projekt zu <emphasis role="strong">bearbeiten</emphasis>, klicken Sie
				bitte auf den <emphasis role="strong">Namen des Projektes</emphasis>.
			</para>
			
			<para>
				Sobald mehr als ein Projekt existiert, steht im Kopfbereich des Admin-Interfaces ein
				Auswahlmenü zur Verfügung, mit dem Sie unmittelbar zwischen den jeweiligen Projekten
				wechseln können.
			</para>
			
			<figure id="settings.projects.project_manage_select">
				<title>Auswahlmenü bei mehreren Projekten</title>
				<graphic fileref="images/settings/projects/project_manage_select.png"/>
			</figure>

			<para>
				Klickt man auf den Link <guibutton>Neu anlegen</guibutton>,
				gelangt man zum Formular zum Hinzufügen eines neuen Projektes.
			</para>
						
			<figure id="settings.projects.project_add">
				<title>Neues Projekt hinzufügen</title>
				<graphic fileref="images/settings/projects/project_add.png"/>
			</figure>
			
				<variablelist>
					<varlistentry>
						<term><guimenuitem>Name</guimenuitem></term>
						<listitem>
							<para>
								Freiwählbarer Name des Projektes
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term><guimenuitem>Benutzer zuweisen</guimenuitem></term>
						<listitem>
							<para>
								Bestehende Benutzer des aktuellen Projektes können dem neuen Projekt
								zugeordnet werden. Hierbei wird selbstverständlich die Zugehörigkeit
								zur Benutzergruppe- und Rechten beibehalten. Angezeigt im Multiselect
								werden nur die Benutzer, die nicht mit den Standardbenutzern von
								Welcompose identisch sind.
								<note>
									<para>
										Der aktuelle Benutzer, mit dem sie sich eingeloggt haben, wird
										automatisch in das neue Projekt übernommen und taucht aus diesem
										Grund nicht in der Liste der Benutzer auf.
									</para>
								</note>
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				
				<tip>
					<para>
						Planen Sie mehrere Projekte anzulegen, denen identische Benutzer zugeordnet
						werden sollen, sollten Sie dies vor dem Anlegen der Projekte berücksichtigen.
						Eine Zuweisung von existierenden Benutzern aus einem Projekt in ein anderes
						ist nur im Moment der Projekt Initialisierung möglich.
					</para>
				</tip>
		</sect2>
	</sect1>

	<sect1 id="settings.pingservices">
		<title>Ping-Services</title>
		
		<sect2 id="settings.pingservices.introduction">
			<title>Einführung</title>
			
			<para>
				Wenn neue Blog Artikel veröffentlicht werden, will man zumeist auch, dass die Welt
				davon erfährt. Die sog. Ping-Services sind zumeist kostenlos nutzbare, externe Dienste, die wiederum 
				ggf. andere Dienste und Suchmaschinen darüber informieren, dass ein neuer Beitrag in Ihrem Blog
				veröffentlicht wurde.
			</para>	
			
			<para>
				Einmal konfigurierte Ping-Dienste stehen dann zur Auswahl auf den jeweiligen Blog-Seiten zur
				Verfügung (s. <xref linkend="settings.pingservices.usage"/>).
			</para>
		</sect2>
		
		<sect2 id="settings.pingservices.manage">
			<title>Verwaltung</title>
			
			<figure id="settings.pingservices.pingservices_manage">
				<title>Übersicht der eingetragenen Ping-Services</title>
				<graphic fileref="images/settings/pingservices/pingservices_manage.png"/>
			</figure>
			
			<para>
				Die Übersicht der vorhandenen Ping-Services in alphabetischer Reihenfolge bietet neben der Anzeige
				des Ping-Services, Links zum Bearbeitung und Löschen eines Projektes, sowie den Link zum 
				<guibutton>Neu anlegen</guibutton> eines Services.
			</para>
			
			<para>
				Um einen Ping-Service zu <emphasis role="strong">bearbeiten</emphasis>, klicken Sie
				bitte auf den <emphasis role="strong">Namen des Ping-Service</emphasis>.
			</para>
						
			<figure id="settings.pingservices.pingservices_add">
				<title>Neuen Ping-Services hinzufügen</title>
				<graphic fileref="images/settings/pingservices/pingservices_add.png"/>
			</figure>
			
			<variablelist>
				<varlistentry>
					<term><guimenuitem>Name</guimenuitem></term>
					<listitem>
						<para>
							Tragen Sie hier bitte den Namen Ihres neuen Ping-Services ein. 
							Der Name dient zur Identifizierung und Unterscheidung einzelner Ping-Services.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Host</guimenuitem></term>
					<listitem>
						<para>
							Der anzusprechende Host. Dieses kann ein gültiger Domainname sein, 
							wie bspw. weblog.com oder auch eine gültige IP-Adresse.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Port</guimenuitem></term>
					<listitem>
						<para>
							Geben Sie hier den Remote Server Port an. Wenn der Servicebetrieber
							keine speziellen Angaben macht, ist <userinput>80</userinput> eine gute Wahl.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Pfad</guimenuitem></term>
					<listitem>
						<para>
							Der Pfad des anzusprechenden Remote Hosts. Beispiel: <userinput>/RPC2</userinput>. 
							Zwingend ist hier mindestens ein Schrägstrich einzutragen.
						</para>
					</listitem>
				</varlistentry>
			</variablelist>			
		</sect2>
		
		<sect2 id="settings.pingservices.usage">
			<title>Verwendung der Ping-Services</title>

			<para>
				Der Einsatz der in den <guimenu>Einstellungen</guimenu> konfigurierten Ping-Services kann nur auf inhaltlichen Seiten
				des Typs <emphasis>WCOM_BLOG</emphasis> genutzt werden. Hat man eine Blog-Seite zur
				Bearbeitung aufgerufen, sehen sie in der Kontextnavigation den Menüpunkt 
				<guisubmenu>Ping-Services</guisubmenu>. Über diesen Menupunkt lassen sich beliebig viele
				Ping-Services für die jeweilige Blog-Seite eintragen.
			</para>
			
			<note>
				<para>
					Lassen Sie sich nicht verwirren durch die gleichnamige Benennung der Navigationspunkte.
					Während unter <guimenu>Einstellungen</guimenu> die externen Ping-Dienste mit den vom
					Betreiber vorgegebenen Einstellungen und Pfade konfiguriert werden, definieren sie im Bereich
					<guimenu>Inhalte</guimenu> auf Seiten des Typs <emphasis>WCOM_BLOG</emphasis> die 
					individuellen Angaben, mit denen Sie die jeweilige Blog-Seite beim ausgewählten Ping-Service
					<emphasis>anmelden</emphasis>.
				</para>
			
				<para>
					So ist es möglich, für jede Blog-Seite, die sie in Welcompose anlegen, beliebig viele und
					unterschiedliche Ping-Services zu adressieren.
				</para>
			</note>
			
			<figure id="settings.pingservices.usage.pingservices_add">
				<title>Neuen Ping-Service einer Blog-Seite hinzufügen</title>
				<graphic fileref="images/settings/pingservices/pingservices_content_add.png"/>
			</figure>
						
			<variablelist>
				<varlistentry>
					<term><guimenuitem>Ping-Service</guimenuitem></term>
					<listitem>
						<para>
							Hier wählen Sie einen der zuvor konfigurierten Ping-Services aus, den
							Sie für die Blog-Seite verwenden möchten.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Seitenname</guimenuitem></term>
					<listitem>
						<para>
							Tragen Sie bitte den Namen Ihres Weblogs ein, wie er innerhalb der Webseiten
							des Ping-Service Providers angezeigt werden soll.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Seiten-URL</guimenuitem></term>
					<listitem>
						<para>
							Der Pfad zur Index-Seite Ihres Weblogs, der das Übertragungsprotokoll (http://)
							und den vollständigen Domainnamen beinhalten muss. Beispiel: <userinput>http://ihrweblog.de</userinput>
							, <userinput>http://ihrweblog.de/page/blog/</userinput> oder auch 
							<userinput>http://ihrweblog.de?index.php?page_name=blog</userinput> (bei parameterisierten URLs).
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Weblog URL</guimenuitem></term>
					<listitem>
						<para>
							Der Pfad zur Seite, der bei einer Aktualisierung vom Ping-Services Provider
							genutzt werden soll. In den allermeisten Fällen ist dieser Pfad identisch
							mit dem im Feld <guimenuitem>Seiten-URL</guimenuitem> eingetragenen Pfad.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guimenuitem>Feed URL</guimenuitem></term>
					<listitem>
						<para>
							Der Pfad zum Newsfeed, der das Übertragungsprotokoll (http://) und den
							vollständigen Domainnamen beinhalten muss. Beispiel: <userinput>http://ihrweblog.de/feeds/</userinput>
						</para>
					</listitem>
				</varlistentry>
			</variablelist>

			<sect3 id="settings.pingservices.usage.ping_use">			
				<title>Benachrichtigung aktivieren</title>
				
				<para>
					Nun, da alle Angaben gemacht wurden, können wir auf jeder Blog-Eintragsseite
					entscheiden, ob und wann der oder die Ping-Services benachrichtigt werden sollen
					wenn die Seite gespeichert wird. In der Standardeinstellung ist die Checkbox nicht aktiviert.
				</para>
						
				<figure id="contents.pingservices.usage.ping">
					<title>Ping-Services auf einer Blog-Beitragsseite aktivieren/deaktivieren</title>
					<graphic fileref="images/contents/pingservices/ping_use.png"/>
				</figure>
			</sect3>
		</sect2>
	</sect1>
			
	<sect1 id="settings.text_converters">
		<title>Textkonverter</title>
		
		<sect2 id="settings.text_converters.introduction">
			<title>Einführung</title>
			
			<para>
				Welcompose bietet zur Texteingabe bei Inhaltsseiten oder
				Blog Postings die Möglichkeit, entweder nacktes HTML oder
				einen sogenannten Textkonverter zu verwenden. Dieser
				Textkonverter stellt in der Regel eine Markup-Sprache zur
				Verfügung, mit deren Hilfe gewisse einfache
				Formatierungsanweisungen gegeben werden können, die
				später in HTML verwandelt werden &ndash; ohne, dass man
				selber HTML tippen muss.
			</para>
			
			<para>
				Ein bekanntes Beispiel ist die Markup-Sprache BBCode,
				die in vielen Diskussionsforen verwendet wird. Umschliesst
				man einen URL beispielsweise mit dem BBCode-Befehl 
				<code>[url]</code>, wird der URL in einen klickbaren Link
				verwandelt:
			</para>
			
			<programlisting><![CDATA[
[url]http://www.example.com/[/url]
]]></programlisting>
			
			<para>
				Sobald der Anwender dies in das Eingabefeld eingegeben
				und abgesendet hat, macht die Software im Hintergrund daraus
				je nach Implementierung beispielsweise:
			</para>
			
			<programlisting><![CDATA[
<a href="http://www.example.com/">www.example.com</a>
]]></programlisting>
			
			<para>
				Nach dem gleichen Prinzip funktionieren die Textkonverter
				in Welcompose. Welcompose bringt mit Markdown und Textile zwei
				populäre Textkonverter mit und ermöglicht mit Hilfe eines
				Plug-ins auch die Einbindung eigener Textkonverter.
			</para>
			
		</sect2>
		
		<sect2 id="settings.text_converters.manage">
			<title>Verwaltung</title>
			
			<figure id="settings.text_converters.text_converters_manage">
				<title>Übersicht über die vorhandenen Textkonverter</title>
				<graphic fileref="images/settings/text_converters/text_converters_manage.png"/>
			</figure>
			
			<para>
				Die Übersicht der vorhandenen Textkonverter in alphabetischer Reihenfolge bietet neben der Anzeige
				des Textkonverters, Links zum Bearbeiten und Löschen, sowie den Link zum 
				<guibutton>Neu anlegen</guibutton> eines Textkonverters.
			</para>
			
			<note>
				<para>
					Lesen Sie bitte hierzu auch <xref linkend="settings.text_converters.use_other_text_converters"/>
					und <xref linkend="settings.text_converters.use_other_text_converters.register_plugin"/>
				</para>
			</note>		
		</sect2>
		
		<sect2 id="settings.text_converters.usage">
			<title>Anwendung der Textkonverter</title>
			
			<para>
				Die Textkonverter werden überall im Webinterface angeboten,
				wo sich Inhalte für die jeweiligen Seiten eingeben lassen.
				Sie können pro Seite, Blog Posting oder Box über eine
				Auswahlliste ausgewählt werden. Pro Seite ist nur ein Textkonverters nutzbar.
			</para>
			
			<figure id="settings.text_converters.usage.choose_text_converter">
				<title>Auswahl des Textkonverters</title>
				<graphic fileref="images/settings/text_converters/usage.choose_text_converter.png"/>
			</figure>
			
			<note>
				<para>
					Für die Blog-Kommentare, kann der
					Textkonverter nur global für alle Blog-Kommentare
					gesetzt werden.
				</para>
			</note>
			
			<para>
				Hilfsfunktionen von Welcompose, beispielsweise zum Setzen
				interner Links oder zum Einfügen eines Bildes berücksichtigen
				automatisch den jeweils gewählten Textkonverter. Das heisst,
				dass je nach Textkonverter automatisch die richtige Syntax
				zum Integrieren von Bildern oder Links gewählt wird.
				Sollte ein Textkonverter ein bestimmtes Element nicht
				unterstützen, wird automatisch der passende (X)HTML-Code
				eingefügt.
			</para>
			
			<note>
				<para>
					Wird der Textkonverter während oder nach dem Editieren
					gewechselt, muss beachtet werden, dass die Syntax nicht
					automatisch gewechselt wird, sondern die alte beibehalten
					wird. Wer den Textkonverter wechselt, muss die Syntax
					also von Hand anpassen oder den Textkonverter vor dem
					Erstellen des Texts ändern.
				</para>
			</note>
		</sect2>

		
		<sect2 id="settings.text_converters.xhtml_markdown_and_textile">
			<title>XHTML, Markdown und Textile</title>
			
			<para>
				Welcompose bringt von Haus aus drei verschiedene
				Textkonverter mit:
			</para>
			
			<itemizedlist>
				<listitem>
					<para>
						XHTML
					</para>
				</listitem>
				<listitem>
					<para>
						Markdown
					</para>
				</listitem>
				<listitem>
					<para>
						Textile
					</para>
				</listitem>
			</itemizedlist>
			
			<sect3 id="settings.text_converters.xhtml_markdown_an_textile.xhtml">
				<title>XHTML</title>
				
				<para>
					Der Textkonverter XHTML ist kein eigentlicher Textkonverter,
					da er eigentlich nichts tut. Er speichert den eingegebenen
					Text unverändert ab. Sein Einsatz empfiehlt sich dann,
					wenn man HTML-Code eingeben möchte.
				</para>
				
				<para>
					Er ist der Standard-Textkonverter und darf <emphasis role="bold">nicht</emphasis> aus dem
					System entfernt werden, da es sonst passieren kann,
					dass beispielsweise der Mediamanager oder die
					Hilfsfunktionen zum Integrieren von Links oder Boxen
					nicht funktionieren. Dies, da er die 
					Standardfunktionalität dazu bereitstellt, auf die
					andere Textkonverter zurückgreifen können, wenn sie selber
					über keine Methoden zum Einfügen eines Elements verfügen.
				</para>
				
			</sect3>
			
			<sect3 id="settings.text_converters.xhtml_markdown_an_textile.markdown">
				<title>Markdown</title>
				
				<para>
					Der Textkonverter Markdown<footnote>
					<para>
						<ulink type="external" url="http://daringfireball.net/projects/markdown/"/>
					</para>
					</footnote>
					ist eine Entwicklung von John Gruber und in Form von
					PHP Markdown Extra<footnote>
					<para>
						<ulink type="external" url="http://www.michelf.com/projects/php-markdown/extra/"/>
					</para>
					</footnote>
					von Michel Fortin integriert.
				</para>
				
				<para>
					Markdown bietet eine einfache und klare Syntax, die
					sich zur einfachen Strukturierung von Texten eignet.
				</para>
				
			</sect3>
			
			<sect3 id="settings.text_converters.xhtml_markdown_an_textile.textile">
				<title>Textile</title>
				
				<para>
					Textile<footnote>
					<para>
						<ulink type="external" url="http://textile.thresholdstate.com/"/>
					</para>
					</footnote>
					ist eine Entwicklung von Dean Allen und
					ursprünglich für die Weblog-Software Textpattern
					entwickelt worden.
				</para>
				
				<para>
					Textile eignet sich vor allem für kompliziertere 
					Formatierungen, bei denen Elementen beispielsweise
					IDs oder CSS-Klassen zugewiesen werden sollen. 
				</para>
				
			</sect3>
			
		</sect2>
		
		<sect2 id="settings.text_converters.use_other_text_converters">
			<title>Eigene Textkonverter integrieren</title>
			
			<note>
				<para>
					Wer einen Textkonverter integrieren möchte, sollte mit den
					Grundlagen objektorientierter Programmierung in PHP 5
					vertraut sein. 
				</para>
			</note>
			
			<para>
				Die Integration eines eigenen Textkonverters besteht aus zwei
				Schritten:
			</para>
			
			<orderedlist>
				<listitem>
					<para>
						Die Erstellung eines Textkonverter-Plug-ins.
					</para>
				</listitem>
				<listitem>
					<para>
						Der Registrierung des Textkonverter-Plug-ins.
					</para>
				</listitem>
			</orderedlist>
			
			<sect3 id="settings.text_converters.use_other_text_converters.create_plugin">
				<title>Plug-in erstellen</title>
				
				<para>
					Um ein Textkonverter-Plug-in zu erstellen, werden zwei
					Dinge benötigt:
				</para>
				
				<orderedlist>
					<listitem>
						<para>
							Ein Textkonverter.
						</para>
					</listitem>
					<listitem>
						<para>
							Das eigentliche Plug-in, das für Welcompose
							eine einheitliche API zum Zugriff auf den
							Textkonverter bietet.
						</para>
					</listitem>
				</orderedlist>
				
				<para>
					Wie der Textkonverter aussieht oder was er für Aufgaben
					erledigt, spielt bei der Integration keine Rolle. 
					Er muss einzig eine Zeichenkette übernehmen, die der
					Eingabe des Anwenders entspricht, und diese
					(transformiert) wieder retournieren. Ein funktionsloser
					Prototyp könnte beispielsweise so aussehen:
				</para>
				
				<programlisting language="php"><![CDATA[
class Mein_TextKonverter
{

	public function process ($input)
	{
		return $input;
	}

}
]]></programlisting>
				
				<para>
					Selbstverständlich ist auch eine prozedurale Variante
					möglich:
				</para>
				
				<programlisting language="php"><![CDATA[
function mein_textkonverter ($input)
{
	return $input;
}
]]></programlisting>
				
				<para>
					Wo der Textkonverter abgespeichert wird, spielt ebenfalls
					keine Rolle. Praktisch ist vielleicht ein separates
					Verzeichnis unterhalb von <filename>core/</filename>,
					damit man nicht unabsichtlich &ndash; beispielsweise
					bei einem Update &ndash; den eigenen Textkonverter
					überschreibt.
				</para>
				
				<note>
					<para>
						Die Textkonverter Markdown und Textile, die Welcompose
						mitbringt, sind im Verzeichnis
						<filename>core/third_party/</filename> zu finden.
					</para>
				</note>
				
				<para>
					Mehr Konventionen gilt es dagegen bei den Plug-ins
					einzuhalten:
				</para>
				
				<itemizedlist>
					<listitem>
						<para>
							Die Plug-ins müssen im Verzeichnis
							<filename>core/plugins/textconverters/</filename>
							abgelegt werden.
						</para>
					</listitem>
					<listitem>
						<para>
							Sie müssen der Benennung
							<userinput>wcom_plugin_textconverter_name.php</userinput>
							folgen, wobei <userinput>name</userinput> eine
							Zeichenkette sein muss, die nur aus kleinen
							Buchstaben, Zahlen und Unterstrichen
							(<code>_</code>) bestehen darf.
							<userinput>name</userinput> wird auch für die
							Benennung der Plug-in-Klasse benötigt. Heisst die
							Plug-in-Klasse
							<code>TextConverter_MeinTextKonverter</code>,
							muss man <userinput>MeinTextKonverter</userinput>
							für den Plug-in-Dateinamen wählen, was zum Resultat
							<filename>wcom_plugin_textconverter_meintextkonverter.php</filename>
							führt.
						</para>
					</listitem>
				</itemizedlist>
				
				<para>
					Die Plug-ins selber werden als abgeleitete Klassen
					des XHTML-Textkonverters <code>TextConverter_XHTML</code>
					realisiert. Dabei gilt es, die Methoden neu zu
					implementieren, deren Funktionalität man mit dem neuen
					Textkonverter nutzen möchte.
				</para>
				
				<para>
					Bietet der neue Textkonverter keine passende
					Funktionalität für eine Methode, lässt man diese einfach
					weg. Dann wird automatisch die Implementierung des 
					XHTML-Textkonverters genutzt.
				</para>
				
				<para>
					Die Methode, die man wohl bei jedem Textkonverter neu
					implementiert, dürfte <code>apply()</code> sein. Sie
					dient dazu, einen Textkonverter auf die vom Benutzer
					eingegeben Text anzuwenden. Wenn man den leeren
					Textkonverter-Prototypen von oben benutzen möchte,
					könnte das Plug-in beispielsweise so aussehen:
				</para>
				
				<programlisting language="php"><![CDATA[
require_once('wcom_plugin_textconverter_xhtml.php');
require_once('/pfad/zu/meinem/textkonverter.php');

class TextConverter_MeinTextKonverter extends TextConverter_XHTML
{

	public function apply ($input)
	{
		$tk = new Mein_TextKonverter();
		return $tk->process($input);
	}

}
]]></programlisting>
				
				<para>
					Nun wird der Textkonverter <code>Mein_TextKonverter</code>
					zur Transformation des Texts verwendet.
				</para>
				
				<para>
					Die weiteren Methoden dienen unter anderem dazu,
					die richtige Sytnax für Hilfsfunktionen wie das Einfügen
					eines Links oder eines Bildes aus dem Mediamanager
					bereitzustellen, damit Bilder oder eben Links
					vorformatiert für die Anwender in die Inhalte eingefügt
					werden können.
				</para>
				
				<variablelist>
					<varlistentry>
						<term>mmInsertImage</term>
						<listitem>
							<para>
								Fügt Bilder aus dem Mediamanager ein.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>mmInsertDocument</term>
						<listitem>
							<para>
								Fügt Dokumente aus dem Mediamanger ein.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>mmInsertShockwave</term>
						<listitem>
							<para>
								Fügt Flashfilme aus dem Mediamanager ein.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>mmInsertInternalLink</term>
						<listitem>
							<para>
								Fügt Links zu anderen Welcompose-Seiten ein.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>mmInsertFlickr</term>
						<listitem>
							<para>
								Fügt Bilder aus dem Mediamanager ein, die
								vom Photo-Sharing-Service Flickr stammen.
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				
				<para>
					Als <code>protected</code> oder <code>private</code>
					deklarierte Methoden können ignoriert werden.
				</para>
				
				<para>
					Während die Funktionssignaturen in den abgeleiteten
					Klassen beibehalten werden müssen, ist es nicht nötig,
					auch wirklich alle übergebenen Variablen zu benutzen.
					Sie können verworfen werden, wenn die Syntax des
					Textkonverters ihre Anwendung nicht vorsieht.
				</para>
				
				<para>
					Wie ein fertiges Textkonverter-Plug-in aussieht, zeigen
					die mitgelieferten Plug-ins für Markdown und Textile.
				</para>
				
				<para>
					Bevor man das Textkonverter-Plug-in nutzen kann, muss es
					noch in Welcompose registriert werden (siehe <xref
					linkend="settings.text_converters.use_other_text_converters.register_plugin"/>).
				</para>
				
			</sect3>
			
			<sect3 id="settings.text_converters.use_other_text_converters.register_plugin">
				<title>Plug-in registrieren</title>
				
				<para>
					Um einen neu hinzugefügten Textkonverter im
					Administrationsbereich nutzen zu können, muss er vorab
					registriert werden. Dies geschieht im Bereich
					<guimenu>Einstellungen</guimenu> im Unterpunkt
					<guisubmenu>Textkonverter</guisubmenu>. Wenn Sie dort
					auf den Link <guibutton>Neu anlegen</guibutton> klicken, 
					gelangen Sie zum Formular zum Anlegen eines neuen
					Textkonverters.
				</para>
					
				<figure id="settings.text_converters.use_other_text_converters.register_plugin.add_text_converter">
					<title>Textkonverter hinzufügen</title>
					<graphic fileref="images/settings/text_converters/use_other_text_converters.register_plugin.add_text_converter.png"/>
				</figure>
				
				<variablelist>
					<varlistentry>
						<term><guimenuitem>Name</guimenuitem></term>
						<listitem>
							<para>
								Der Name des Textkonverters, der jeweils
								in den Auswahllisten unterhalb der
								Inhaltsbereiche gezeigt wird. Er kann frei
								gewählt werden.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term><guimenuitem>Interner Name</guimenuitem></term>
						<listitem>
							<para>
								Interner Name des Textkonverters. Bei einer
								Plug-in-Klasse mit dem Namen 
								<code>TextConverter_MeinTextKonverter</code>
								muss <userinput>MeinTextKonverter</userinput>
								eingegeben werden.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term><guimenuitem>Standard</guimenuitem></term>
						<listitem>
							<para>
								Wenn aktiv, wird dieser Textkonverter beim Anlegen 
								neuer Seiten als Standard gesetzt.
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				
				<para>
					Sobald das Formular ausgefüllt und abgesendet wurde,
					kann der Textkonverter innerhalb des
					Administrationsbereichs genutzt werden.
				</para>
			</sect3>
		</sect2>		
	</sect1>
	
	<sect1 id="settings.text_macros">
		<title>Textmakros</title>
		
		<sect2 id="settings.text_macros.introduction">
			<title>Einführung</title>
			
			<para>
				Textmakros sind sozusagen die kleinen Geschwister der
				Textkonverter (<xref linkend="settings.text_converters"/>).
				Denn wie die Textkonverter sind sie für die Transformation
				von Text zuständig. Der Unterschied besteht aber darin, 
				dass sie nicht eine komplett eigene Markup-Sprache zur 
				Transformation ganzer Texte definieren, sondern mit einzelnen
				Befehlen eine einzige (kleine) Aufgabe erledigen sollen.
			</para>
			
			<para>
				Wer beispielsweise einen Begriff mit einem Link zur
				Online-Enzyklopädie Wikipedia erklären will, kann
				normalerweise den Link nur in HTML oder mit der Markup-Sprache
				des jeweiligen Textkonverters (Markdown im Beispiel)
				auszeichnen:
			</para>
			
			<programlisting><![CDATA[
[Toxoplasmose](http://de.wikipedia.org/wiki/Toxoplasmose)
]]></programlisting>
			
			<para>
				Dies ist aber umständlicher als nötig, da die Links zur
				Wikipedia immer identisch aufgebaut sind und sich deshalb
				automatisch erstellen liessen. Hier kommen nun die
				Textmakros ins Spiel: Sie können diese Aufgabe übernehmen,
				ohne dass ein bestehender Textkonverter modifiziert respektive
				ergänzt werden muss. So lässt sich ein Textmakro erstellen,
				das beispielsweise aus 
			</para>
			
			<programlisting><![CDATA[
w:de{Toxoplasmose}
]]></programlisting>
			
			<para>
				automatisch den richtigen Link erstellt, wodurch man nicht nur
				weniger tippen, sondern sich auch nicht den Link heraussuchen
				muss.
			</para>
			
			<para>
				Dies funktioniert selbstverständlich nicht nur mit
				Wikipedia-Artikeln, sondern auch mit Telefonnummern oder ISBN
				für Bücher, die man beispielsweise mit seinem
				Amazon-Partnerprogramm verknüpfen kann. Auch lassen sich
				Badges von irgendwelchen Webdiensten integrieren, sofern sie
				sich vernünftig in in ein Textmakro verpacken lassen.
			</para>
			
			<para>
				Weitere Anwendungsmöglichkeiten sind automatische
				Transformationen. Beispielsweise die Codierung von Entitäten
				oder die Entfernung von unerwünschten HTML-Tags.
			</para>
			
		</sect2>
		
		<sect2 id="settings.text_macros.manage">
			<title>Verwaltung</title>
			
			<figure id="settings.text_macros.text_macros_manage">
				<title>Übersicht über die vorhandenen Textmakros</title>
				<graphic fileref="images/settings/text_macros/text_macros_manage.png"/>
			</figure>
			
			<para>
				Die Übersicht der vorhandenen Textmakros in alphabetischer Reihenfolge bietet neben der Anzeige
				des Textmakro, Links zum Bearbeiten und Löschen, sowie den Link zum 
				<guibutton>Neu anlegen</guibutton> eines Textmakro.
			</para>
			
			<note>
				<para>
					Lesen Sie bitte hierzu auch <xref linkend="settings.text_macros.integrate_other_text_macros.create"/>
					und <xref linkend="settings.text_macros.integrate_other_text_macros.register"/>
				</para>
			</note>		
		</sect2>
		
		<sect2 id="settings.text_macros.usage">
			<title>Anwendung der Textmakros</title>
			
			<para>
				Textmakros werden wie der Textkonverter von Welcompose
				überall im Webinterface angeboten, wo sich Inhalte für die
				jeweiligen Seiten eingeben lassen. Sie können pro Seite, Blog
				Posting oder Box über eine Checkbox aktiviert werden.
			</para>
			
			<figure id="settings.text_macros.usage.apply_text_macros">
				<title>Textmakros anwenden</title>
				<graphic fileref="images/settings/text_macros/usage.apply_text_macros.png"/>
			</figure>
			
			<para>
				Dies bedeutet, dass entweder alle Textmakros ausgeführt
				werden können oder gar keine.
			</para>
			
			<para>
				Gesteuert werden kann einzig der Anwendungszeitpunkt der
				Textmakros, wobei das global bei der Aktivierung eines
				Textmakros geschieht (siehe <xref
				linkend="settings.text_macros.integrate_other_text_macros"/>). 
			</para>
			
			<para>
				Die Nutzung der Textmakros bei Blog-Kommentaren o.ä. ist
				nicht möglich.
			</para>
			
		</sect2>
		
		<sect2 id="settings.text_macros.builtin_text_macros">
			<title>Mitgelieferte Textmakros</title>
			
			<para>
				Welcompose bringt augenblicklich vier Textmakros von Haus aus mit, die für
				die Bereitstellung von Welcompose-Funktionalität benötigt
				werden oder/und zusätzliche Funktionaltität bereit zu stellen.
			</para>
							
			<warning>
				<para>
				Diese mitgelieferten Textmakros dürfen nicht entfernt werden, da sonst die 
				die Auflösung der Syntax sowie der Pfade in Ihren Seiten nicht mehr funktionieren.
				</para>
			</warning>
			
			<sect3 id="settings.text_macros.builtin_text_macros.bundled_abbreviation_generator">
				<title>Bundled Abbreviation Generator</title>

				<para>
					Das Textmakro Bundled Abbreviation Generator kümmert sich um das Setzen
					der korrespondierenden <code>abbr</code> HTML-Tags und Links zu Glossarseiten.
					Es ist integrativer Bestandteil von Welcompose und kann daher auch
					nicht über das Backend gelöscht oder
					deaktiviert werden.
				</para>

				<para>
					Es orientiert sich an der Syntax von Smarty-Funktionen,
					wie sie in Vorlagen verwendet werden:
				</para>

				<programlisting><![CDATA[
{get_abbreviation arg1=value1 arg2=value2}
]]></programlisting>

				<para>
					Während <code>get_abbreviation</code> den Namen des
					Textmakros repräsentiert, sind <code>arg1</code> respektive
					<code>arg2</code> Platzhalter für Argumente, die an den
					Abkürzung-Generator zur Erzeugung der richtigen Syntax übergeben
					werden. Die zwei einzig gültigen Argumente sind <code>id</code> und
					<code>value</code>. Die ID beschreibt die eindeutige Kennung 
					der Abkürzung, mit dem Argument <code>value</code> wird bestimmt,
					welcher zur Verfügung stehende Feldinhalt der Abkürzung ausgelesen 
					werden soll.
				</para>
				
				<para>
					Zur Verfügung stehen: <userinput>name</userinput>, <userinput>lang</userinput>
					und <userinput>long_form</userinput>. Eine gültige Anweisung kann beispielsweise so
					aussehen:
				</para>

				<programlisting><![CDATA[
{get_abbreviation id="3" value="name"}
]]></programlisting>

				<para>
					oder auch:
				</para>
				
				<programlisting><![CDATA[
{get_abbreviation id="3" value="long_form"}
]]></programlisting>

				<para>
					Anstelle von <code>{get_abbreviation ...}</code> setzt das
					Textmakro die korrespondierenden Inhalt für die Abkürzung,
					beispielsweise:
				</para>

				<programlisting><![CDATA[
<abbr title="MeineLangform">Meine Abkürzung</abbr>
]]></programlisting>

				<para>
					oder auch:
				</para>
				
				<programlisting><![CDATA[
<abbr title="MeineLangform" lang="de" xml:lang="de">
  <a href="#MeineAbkürzung" title="MeineLangform">Meine Abkürzung</a>
</abbr>
]]></programlisting>

				<note>
					<para>
						Es in der Regel nicht nötig, selber die
						Tags für die Integration der Abkürzungen zu schreiben, da dies
						in Welcompose integrierte Funktionen für den Anwender tun.
						Lesen Sie hierzu auch <xref linkend="contents.abbreviations"/> und
						<xref linkend="usage.smarty_plugins.glossary"/>.
					</para>
				</note>

			</sect3>
			
			<sect3 id="settings.text_macros.builtin_text_macros.bundled_embed_video_generator">
				<title>Bundled Embed Video Generator</title>
				
				<para>
					Das Textmakro Bundled Embed Video Generator ermöglicht es mit
					wenigen Zeilen ein Video eines Video Sharing Service
					in eine Seite einzubinden. Die Art der Einbindung richtet sich
					nach den bereitgestellten Möglichkeiten der Anbieter.
				</para>
				
				<para>
					Es orientiert sich an der Syntax von Smarty-Funktionen,
					wie sie in Vorlagen verwendet werden:
				</para>
				
				<programlisting><![CDATA[
{embed_video arg1=value1 arg2=value2 arg3=value3 arg4=value4}
]]></programlisting>
				
				<para>
					Das Textmarkro hat folgende Argument, deren Angabe zwingend
					erforderlich ist: <code>service</code>, <code>vid</code>,
					<code>width</code> und <code>height</code>. Der Parameter
					<code>service</code> ist gleich dem Namen
					des Anbieters.
					
				</para>
				
				<para>
					Es sind aktuell folgende Anbieter implementiert:
				</para>
				
				<itemizedlist>
					<listitem>
						<para>
							Youtube (Parametername: youtube)  
						</para>
					</listitem>
					<listitem>
						<para>
							Vimeo (Parametername: vimeo)  
						</para>
					</listitem>
					<listitem>
						<para>
							DailyMotion (Parametername: dailymotion)  
						</para>
					</listitem>
					<listitem>
						<para>
							Clipfish (Parametername: clipfish)  
						</para>
					</listitem>
					<listitem>
						<para>
							Sevenload (Parametername: sevenload)  
						</para>
					</listitem>
					<listitem>
						<para>
							MyVideo (Parametername: myvideo)  
						</para>
					</listitem>
					<listitem>
						<para>
							Google (Parametername: google)  
						</para>
					</listitem>
				</itemizedlist>
				
				<para>
					Der Parameter <code>vid</code> ist die Identifikationsnummer des eingebundenen
					Films, der vom jeweiligen Anbieter vergeben wird. Die Parameter <code>width</code>
					und <code>height</code> bestimmen die Anzeigefläche in ihrer Seite.
				</para>

				<para>
					Somit würde ein gültige Eingabe wie beispielsweise wie folgt ausschauen:
				</para>
				
				<programlisting><![CDATA[
{embed_video service="youtube" vid="4wr3AD8mZy0" width="500" height="408"}
]]></programlisting>

				<tip>
					<para>
						Um herauszufinden welche Werte sie konkret für Ihren Film
						angeben müssen, rufen Sie den Film auf der Seite des
						jeweiligen Anbieters auf. Dort stehen in der Regel Informationen
						zu ID des Films, Breite und Höhe des Films zur Verfügung. Oftmals
						ist bspw. die <code>vid</code> Teil des URL.
					</para>
				</tip>

				
			</sect3>
						
			<sect3 id="settings.text_macros.builtin_text_macros.bundled_media_url_generator">
				<title>Bundled Media URL Generator</title>
				
				<para>
					Das Textmakro Bundled Media URL Generator kümmert sich um das Setzen
					von Pfaden respektive URLs zu Media-Elementen wie Bildern.
					Es wird vom in Welcompose integrierten Media Manager
					verwendet und kann daher auch nicht über das Backend gelöscht oder
					deaktiviert werden.
				</para>
				
				<para>
					Es orientiert sich an der Syntax von Smarty-Funktionen,
					wie sie in Vorlagen verwendet werden:
				</para>
				
				<programlisting><![CDATA[
{get_media arg1=value1}
]]></programlisting>
				
				<para>
					Es kennt nur ein einzelnes Argument: <code>id</code>.
					Diesem wird jeweils die ID des Bildes oder Films
					übergeben, das respektive der eingebunden werden soll:
				</para>
				
				<programlisting><![CDATA[
{get_media id="3"}
]]></programlisting>
				
				<para>
					Anstelle von <code>{get_media ...}</code> setzt das
					Textmakro den Pfad respektive URL zum Media-Element,
					beispielsweise:
				</para>
				
				<programlisting><![CDATA[
/files/global_files/grafik.jpg
]]></programlisting>
				
				<para>
					Allerdings ist es in der Regel nicht nötig, selber die
					Tags für die Integration der Bilder zu schreiben, da dies
					in Welcompose integrierte Funktionen für den Anwender tun.
				</para>
				
			</sect3>
			
			<sect3 id="settings.text_macros.builtin_text_macros.bundled_url_generator">
				<title>Bundled URL Generator</title>
				
				<para>
					Das Textmakro Bundled URL Generator dient zur
					einfachen Erzeugung von Links zwischen den einzelnen
					Welcompose-Seiten und wird beispielsweise von den
					Hilfsfunktionen zum Einfügen interner Hinweise verwendet.
					Es kann daher auch nicht über das Backend gelöscht oder deaktiviert
					werden.
				</para>
				
				<para>
					Es bietet ein Interface zum URL-Generator, der auch
					schon innerhalb der Vorlagen zum Einsatz kommt und folgt
					daher dessen Syntax:
				</para>
				
				<programlisting><![CDATA[
{get_url arg1=value1 arg2=value2}
]]></programlisting>
				
				<para>
					Während <code>get_url</code> quasi der Name des
					Textmakros ist, sind <code>arg1</code> respektive
					<code>arg2</code> Platzhalter für Argumente, die an den
					URL-Generator zur Erzeugung der richtigen URLs übergeben
					werden. Eine gültige Anweisung kann beispielsweise so
					aussehen:
				</para>
				
				<programlisting><![CDATA[
{get_url page_id="15" action=ArchiveMonth posting_year_added="2007" posting_month_added="6"}
]]></programlisting>
				
				<para>
					Anstelle von <code>{get_url ...}</code> wird vom
					Textmakro der URL zu dem Archiv für den Monat Juni 2007
					der Blog-Seite mit der ID 15 gesetzt, beispielsweise: 
				</para>
				
				<programlisting><![CDATA[
http://www.example.com/mein-blog/archiv/2007/06/
]]></programlisting>
				
				<para>
					In der Regel ist es nicht nötig, selber die Tags für den
					Bundled Media URL Generator zu schreiben, da dies in 
					Welcompose integrierte Funktionen für den Anwender tun.
				</para>
			</sect3>
		</sect2>
		
		<sect2 id="settings.text_macros.integrate_other_text_macros">
			<title>Eigene Textmakros integrieren</title>
			
			<para>
				Um eigene Textmakros in Welcompose zu integrieren, müssen
				zwei Aufgaben erledigt werden:
			</para>
			
			<orderedlist>
				<listitem>
					<para>
						Die Erstellung des Textmakros.
					</para>
				</listitem>
				<listitem>
					<para>
						Die Aktivierung des Textmakros in Welcompose.
					</para>
				</listitem>
			</orderedlist>
			
			<sect3 id="settings.text_macros.integrate_other_text_macros.create">
				<title>Erstellung eines Textmakros</title>
				
			<note>
				<para>
					Wer ein Textmakros integrieren möchte, sollte mit den
					Grundlagen objektorientierter Programmierung in PHP 5
					vertraut sein. 
				</para>
			</note>
				
				<para>
					Textmakros werden in Form von einfachen PHP-Funktionen
					realisiert, in deren Rahmen man prinzipiell machen kann,
					was man will. Als Beispiel soll die bereits erwähnte
					automatische Umwandlung von Links zur Wikipedia realisiert
					werden.
				</para>
				
				<para>
					Die Textmakros werden im Verzeichnis
					<filename>core/plugins/textmacros/</filename> hinterlegt,
					wobei pro Textmakro eine separate Datei benötigt wird.
					Die Benennung der Dateien muss einem bestimmten Schema
					erfolgen, damit die Textmakros von Welcompose gefunden
					werden. Und zwar müssen die Dateinamen mit
					<filename>wcom_plugin_textmacro_</filename> beginnen,
					gefolgt vom eigentlichen Textmakro-Namen und der
					Dateiendung <filename>.php</filename>. Der Textmakro-Name
					darf nur kleine Buchstaben, Ziffern und Unterstriche
					beinhalten. Der Dateiname des Wikipedia-Macros könnte
					beispielsweise so aussehen:
					<filename>wcom_plugin_textmacro_wikipedia.php</filename>.
				</para>
				
				<para>
					Der Dateiname dient gleichzeitig (abzüglich des Suffix
					<filename>.php</filename>) als Funktionsname, der
					für den Aufruf des Textmakros verwendet wird.
				</para>
				
				<para>
					Die Textmakros erhalten als einziges Argument die
					Zeichenkette mit den Benutzereingaben, die sie nach
					der Ausführung retournieren müssen. Der funktionslose
					Prototyp einer Textmakro-Funktion sieht damit
					folgendermassen aus: 
				</para>
				
				<programlisting language="php"><![CDATA[
function wcom_plugin_textmacro_name ($input)
{
	return $input;
}
]]></programlisting>
				
				<para>
					Welche Aktionen innerhalb des Textmakros ausgeführt
					werden, bleibt einem selbst überlassen. Meistens wird
					man wohl mit Hilfe von Regulären Ausdrücken die Eingaben
					manipulieren. In jedem Fall gilt es, darauf zu achten,
					dass die Textmakros nicht mit den Textkonvertern in
					Konflikt geraten, insbesondere wenn sie
					<emphasis>nach</emphasis> den Textkonvertern ausgeführt
					werden (mehr dazu in
					<xref linkend="settings.text_macros.integrate_other_text_macros.register"/>). 
				</para>
				
				<para>
					In dem Wikipedia-Beispiel-Textmakro wird eine ebensolche
					Text-Transformation mit Hilfe eines Regulären Ausdrucks
					realisiert. Und zwar sucht die Textmakro-Funtkion
					<code>wcom_plugin_textmacro_wikipedia()</code> nach allen
					nach dem Muster <code>w:de{Begriff}</code> (für die
					deutsche Wikipedia) respektive <code>w:en{Begriff}</code>
					(für die englische Wikipedia) ausgezeichneten Begriffen.
					Diese werden dann mit Hilfe der Callback-Funktion 
					<code>wcom_plugin_textmacro_wikipedia_callback()</code>
					in die Links verwandelt und durch diese ersetzt.
				</para>
				
				<programlisting language="php"><![CDATA[
function wcom_plugin_textmacro_wikipedia ($input)
{
	// input check
	if (!is_scalar($input)) {
		trigger_error("Input for parameter input is expected to be scalar", E_USER_ERROR);
	}

	// parse wikipedia tags and replace them with links to the online encyclopedia.
	return preg_replace_callback("=w:(en|de)\{(.*?)\}=",
		'wcom_plugin_textmacro_wikipedia_callback', $input);
}

function wcom_plugin_textmacro_wikipedia_callback ($args)
{
	// input check
	if (!is_array($args)) {
		trigger_error("Input for parameter args is expected to be an array", E_USER_ERROR);
	}

	// encode the article title into wikipedia's special format used in urls
	$article_url_title = urlencode(str_replace(' ', '_', $args[2]));

	// create wikipedia link
	// argument 1 holds the name of the localized wikipedia to use (either en or de)
	// argument 2 is the urlencoded version of the article title
	// argument 3 is the article title as supplied by the user
	return sprintf('<a href="http://%1$s.wikipedia.org/wiki/%2$s">%3$s</a>', $args[1],
		$article_url_title, $args[2]);
}
]]></programlisting>
				
				<para>
					Sobald das Textmakro unter dem Namen
					<filename>wcom_plugin_textmacro_wikipedia.php</filename>
					im Verzeichnis
					<filename>core/plugins/textmacros/</filename> abgelegt
					wurde, ist es einsatzbereit und muss nur noch in
					Welcompose registriert und damit aktiviert werden.
				</para>
				
			</sect3>
			
			<sect3 id="settings.text_macros.integrate_other_text_macros.register">
				<title>Textmakros registrieren</title>
				
				<para>
					Um ein neu hinzugefügtes Textmakro nutzen zu können, muss
					es registriert werden. Dies geschieht im
					Administrationsbereich unter <guimenu>Settings</guimenu>
					im Unterpunkt <guisubmenu>Text Macros</guisubmenu>. Wenn
					Sie dort auf den Link <guibutton>Add new</guibutton>
					klicken, gelangen Sie zum Formular zum Anlegen eines neuen
					Textmakros.
				</para>
					
				<figure id="settings.text_macros.integrate_other_text_macros.register.add_text_macro">
					<title>Textmakro anlegen</title>
					<graphic fileref="images/settings/text_macros/integrate_other_text_macros.register.add_text_macro.png"/>
				</figure>
				
				<variablelist>
					<varlistentry>
						<term>Name</term>
						<listitem>
							<para>
								Der Name des Textmakros, der zur
								Identifizierung des Textmakros dient.
								Kann frei gewählt werden.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>Internal name</term>
						<listitem>
							<para>
								Interner Name des Macros. Bei einer
								Textmakro-Funktion mit dem Namen 
								<code>wcom_plugin_textmacro_name()</code>
								muss <userinput>name</userinput>
								eingegeben werden, bei
								<code>wcom_plugin_textmacro_wikipedia()</code>
								also <userinput>wikipedia</userinput>.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>Type</term>
						<listitem>
							<para>
								Der Typ bestimmt den Zeitpunkt, wann das
								Textmakro im Verhältnis zu den
								Textkonvertern ausgeführt werden soll. Und
								zwar kann man wählen, ob das Textmakro
								<emphasis>vor</emphasis> (<guimenuitem>Startup
								macro</guimenuitem>, <guimenuitem>Pre text
								filter macro</guimenuitem>) oder
								<emphasis>nach</emphasis> (<guimenuitem>Post
								text filter macro</guimenuitem>,
								<guimenuitem>Shutdown Macro</guimenuitem>) dem
								Textkonveter ausgeführt werden soll. Ein
								<guimenuitem>Startup macro</guimenuitem>
								wird dabei vor einem <guimenuitem>Pre text
								filter macro</guimenuitem> ausgeführt, ein
								<guimenuitem>Shutdown macro</guimenuitem> nach
								einem <guimenuitem>Post text filter
								macro</guimenuitem>.
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				
				<para>
					Sobald das Formular ausgefüllt und abgesendet wurde,
					ist das Textmakro aktiv und wird angewendet.
				</para>
			</sect3>
		</sect2>
	</sect1>
		
	<sect1 id="settings.google_sitemaps">
		<title>Sitemaps</title>

		<sect2 id="settings.google_sitemaps.introduction">
			<title>Einführung</title>
			
			<para>
				Google Sitemaps sind XML Dateien, in denen die Seitenpfade und die 
				dazugehörigen Metadaten ihrer Webseite  statisch hinterlegt werden. 
				Diese Datei(en) (<filename>sitemap.xml</filename>, 
				<filename>sitemap.xml.gz</filename>(gunzip komprimiert)), deren Schema dem
				Standardprotokoll entspricht (<ulink type="external" url="http://sitemaps.org/protocol.php"/>),
				erleichtern den Webcrawlern von Google den Informationszugang zu ihren Seiten und sind
				 ein wertvolles Werkzeug um die 
				<ulink type="external" url="http://de.wikipedia.org/wiki/Suchmaschinenoptimierung">SEO</ulink>
				auszubauen. Die Datei(en) müssen sie manuell ihrem Google-Konto hinzugefügen.
			</para>

			<note>
				<para>Die Nutzung dieses Features setzt das Vorhanden sein eines
					<ulink type="external" url="http://www.google.com/support/accounts/">Google-Konto</ulink>
					voraus.
				</para>
			</note>
		</sect2>
		
		<sect2 id="settings.google_sitemaps.generate">
			<title>Sitemaps erstellen</title>

			<para>
				Sitemaps werden im Menüpunkt <guimenu>Einstellungen</guimenu> unter
				<guisubmenu>Sitemaps</guisubmenu> angelegt.
			</para>

			<figure id="settings.google_sitemaps.generate_sitemaps">
				<title>Sitemaps erstellen</title>
				<graphic fileref="images/usage/sitemaps/generate_sitemaps.png"/>
			</figure>

			<variablelist>
				<varlistentry>
					<term><guilabel>Komprimieren</guilabel></term>
					<listitem>
						<para>
							Ist diese Checkbox angeklickt, wird zusätzlich zur XML Sitemap
							(<filename>sitemap.xml</filename>) eine gunzip komprimierte XML Sitemap-Datei
							erstellt (<filename>sitemap.xml.gz</filename>).
						</para>
					</listitem>
				</varlistentry>
			</variablelist>

			<para>
				Klicken auf <guibutton>Speichern</guibutton>, wird die Sitemap-Datei
				automatisch aus der Pfadstruktur Ihrer Installation erstellt.
				Diese beinhaltet alle Seiten, die ihrer Domain zugeordnet und nicht
				im <emphasis>Entwurf-Modus</emphasis> gespeichert oder
				als <emphasis>Geschützt</emphasis> ausgezeichnet sind 
				(s. <xref linkend="contents.pages.manage.extend_add_page"/>).
			</para>

			<para>
				Ablageort der generierten Sitemap(s) ist der Ordner <filename>/tmp/sitemaps</filename>. 
			</para>

			<para>
				Da die Google-Richtlinien dies dringend empfehlen, verschieben sie die Datei(en)
				anschließend bitte auf ihrem Server auf die <emphasis role="strong">oberste Ebene</emphasis>
				ihrer Installation (Webroot).
			</para>

			<example id="settings.google_sitemaps.example.path">
				<title>Pfad(e) Sitemap Datei(en)</title>
<programlisting><![CDATA[
http://ihre-domain.tld/sitemap.xml
http://ihre-domain.tld/sitemap.xml.gz
]]></programlisting>			
			</example>

			<para>
				Anschließend melden sie sich (ggf. in einem neuen Browserfenster)
				an ihren Google-Konto an und fügen die Datei(en) ihrem Konto hinzu.
			</para>

			<tip>
				<para>
					Wenn sie seit der Erstellung einer Sitemap Ihrer Installation neue Seiten
					hinzugefügt haben, sollten sie jeweils daran denken eine neue Sitemap zu generieren,
					damit die neuen URLs berücksichtigt werden. Ersetzten sie die veraltete Sitemap
					im obersten Verzeichnis durch die neu generierte. Ein erneutes Anmeldung der 
					Sitemap in ihrem Google-Konto ist nicht ausdrücklich notwendig, schadet aber
					auch nicht ;-) Weitere Information zu Sitemaps finden sie auf Google<footnote><para><ulink  url="http://www.google.com/support/webmasters/bin/topic.py?topic=8476"/></para></footnote>.
				</para>
			</tip>

		</sect2>

		<sect2 id="settings.google_sitemaps.usage">
			<title>Anwendung</title>

			<figure id="settings.google_sitemaps.edit_sitemaps">
				<title>Seiten Metadaten: Sitemap Angaben</title>
				<graphic fileref="images/usage/sitemaps/edit_sitemaps.png"/>
			</figure>

			<variablelist>
				<varlistentry>
					<term><guilabel>Sitemap Änderungshäufigkeit</guilabel></term>
					<listitem>
						<para>
							Wählen sie ein Zeitinterval aus, der Google sagt, wie
							häufig aktualisierte Inhalte erwartet werden können.
						</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term><guilabel>Sitemap Priorität</guilabel></term>
					<listitem>
						<para>
							Wert, der Google die interne Gewichtung mitteilt. 0.5
							ist hier der Mittelwert.
							<note>
								<para>
									Bitte beachten sie, das dieser Wert keinen Einfluß auf das Ranking
									der betreffenden Seite hat, sondern Google nur mitteilt, welche
									Seiten der Crawler vorrangig berücksichtigen soll.
								</para>
							</note>
						</para>
					</listitem>
				</varlistentry>
			</variablelist>

		</sect2>
	</sect1>


		<sect1 id="settings.actions">
			<title>Aktionen</title>

			<sect2 id="settings.actions.introduction">
				<title>Einführung</title>

				<para>
					<guisubmenu>Aktionen</guisubmenu> sind Scripte, die festgelegte Aufgaben
					in unterschiedlichen Kontexten systemübergreifend ausführen. Sie dienen
					zur Manipulation von Datenbankinhalten wie auch Inhalten auf Dateiebene.   
				</para>
				
				<para>
					Ein wesentliches Ziel in der Programmierung von Welcompose ist es, 
					die Performance der Software so hoch wie möglich zu halten. Aus diesen
					Grund findet in der (Frontend)Ausgabe der Inhalte keine Konvertierung der Inhalte zur
					Laufzeit statt, da dieses eine deutlich erhöhte Kommunikation zwischen Browser,
					Server und Datenbank notwendig macht und demzufolge das Laden der Seite signifikant
					verlängert. Stattdessen geschieht die Konvertierung der Inhalte zum Zeitpunkt
					der Bearbeitung, bzw. Speicherung innerhalb der Administrationsoberfläche.   
				</para>
				
				<para>
					Um diese doch recht abstrakte Beschreibung mit Leben zu füllen - 
					Am Beispiel der Aktion <filename>Aktuelles URL Pattern Layout anwenden</filename>
					lässt es sich anschaulich nachvollziehen:   
				</para>
				
				<para>
					Welcompose wird mit einem URL Layout ausgeliefert, das parameterisierte URLs
					nutzt (siehe auch <xref linkend="url_rewriting"/>). Gehen wir nun davon aus, das
					Sie Seiten anlegen, in denen Sie interne Verweise zu Seiten der 
					Webpräsenz einfügen. Diese würden beispielhaft wie folgt in der Datenbank gespeichert:     
				</para>
				
				<programlisting><![CDATA[
<a href="/index.php?page_name=seitenname&action=Index">xxx</a>
]]></programlisting>

				<para>
					In Laufe der Inhaltseinpflege entscheiden Sie sich nun die im <xref linkend="url_rewriting"/>
					beschriebene Methode der URL Abbildung zu nutzen. Sie führen die notwendigen
					Schritte durch und fahren fort mit der Inhaltseinpflege. Links, die Sie jetzt
					in inhaltliche Seiten einfügen, werden - analog zum obigen Pfad - beispielhaft
					wie folgt in der Datenbank gespeichert:   
				</para>

				<programlisting><![CDATA[
<a href="/seitenanme/">xxx</a>
]]></programlisting>

				<para>
					Somit existieren ab diesem Zeitpunkt zwei verschiedene URL Layouts in Ihren Seiten. 
					Das führt zu keiner Beeinträchtigung der Verlinkung (s. auch die Anmerkung), dennoch
					ist die Mischung unterschiedlicher URL Layouts im Seitenkontext zumeist nicht erwünscht.   
				</para>
				
				<note>
					<para>
						Auch wenn Sie unterschiedliche Pfad Layouts nutzen,- die Verlinkung Ihrer
						Seiten ist zu keinem Zeitpunkt hierdurch beeinträchtigt. Der Standard,
						die Abbildung als parametisierte URLs, ist zu jeder Zeit gültig und anwendbar.
					</para>
				</note>
				
				<para>
					Um die URLs, die vor der Umstellung auf das alternative URL Pattern Layout in
					den Seiten eingefügt (und dem zufolge in der Datenbank gespeichert) wurden, 
					an das neue URL Layout anzugleichen, führen Sie die Aktion <filename>Aktuelles
					URL Pattern Layout anwenden</filename> aus.   
				</para>

								
				<figure id="settings.actions.manage.actions_overview">
					<title>Aktionen: Übersicht</title>
					<graphic fileref="images/settings/actions/manage.actions_overview.png"/>
				</figure>

			</sect2>

			<sect2 id="settings.actions.actions">
				<title>Die Aktionen</title>
				

				<sect3 id="settings.actions.actions.apply_url_pattern">
					<title>Aktuelles URL Pattern Layout anwenden</title>
					
					<para>
						Wie im Anwendungsbeispiel der Aktionen beschrieben, sollte diese Funktion
						immer dann ausgeführt werden, wenn sich das URL Pfad Layout geändert hat 
						(s. <xref linkend="url_rewriting"/>).    
					</para>

				</sect3>
				
				<sect3 id="settings.actions.actions.apply_abbreviations">
					<title>Abkürzungen und Glossar anwenden</title>
					
					<para>
						Haben Sie eine Abkürzung (siehe <xref linkend="contents.abbreviations"/>) bearbeitet,
						müssen die Inhalte aller Seiten, in denen die bearbeitete Abkürzung verwandt wird,
						aktualisiert werden. Führen Sie die Funktion aus um das Backend und Frontend 
						zu synchronisieren.   
					</para>
					
					<para>
						Hat eine Abkürzung einen Eintrag im Feld <guilabel>Glossar</guilabel>
						, wird erst durch die Ausführung dieser Funktion die HTML-Syntax um den Link
						auf die hier auszuwählende Zielseite für Ihr Glossar erweitert. Aktivieren Sie die
						Option <guilabel>Glossar Seite anwenden?</guilabel> um nachfolgend die Seite
						auszuwählen, auf die die in den Seiteninhalten eingefügten Abkürzungen verweisen
						sollen.  
					</para>

					<para>
						Die Auswahl der Zielseite muss bei jeder Ausführung der Funktion erneut
						getroffen werden.  
					</para>
										
					<note>
						<para>
							Obige Option zur Glossarverlinkung ist notwendig, da unter Umständen
							zum Zeitpunkt der Erstellung einer Abkürzung oder auch beim Einfügen
							in Seiteninhalte noch keine Seite existiert, die die Anzeige des
							Glossar beinhaltet 
							(siehe <xref linkend="contents.abbreviations.glossar.output"/>).
						</para>
					</note>
					
					<tip>
						<para>
							Um es zu vermeiden nach jeder einzelnen Bearbeitung einer Abkürzung
							in den Bereich Einstellungen und wieder zurück zu wechseln, ist es 
							eine gute Idee, bei einer Änderungen von unter Umständen mehreren
							Abkürzungen, diese erst abzuschließen um dann nachfolgend in einem 
							einzigen Schritt die Änderungen in der Ausgabe zu synchronisieren.
						</para>
					</tip>

				</sect3>
				
				<sect3 id="settings.actions.actions.delete_tpl_compiled">
					<title>Kompilierte Frontend Smarty Vorlagen löschen</title>
					
					<para>
						Welcompose, bzw. Smarty als verwendete Template Engine, generiert bei einem 
						Seitenaufruf in der Ausgabe für jede Ausgabeseite eine statische Datei,
						auf die im Laufe weiterer Seitenaufrufe zugeriffen wird. Diese nennt man
						kompilierte Vorlagen. Sie liegen im Pfad <filename>/smarty/compiled</filename>.
					</para>
					
					<para>
						Bearbeitet man im Adminstrationsbereich Seitenvorlagen, Vorlagengruppen und legt
						inhaltliche Seiten kann es unter Umständen notwendig sein, diese Funktion auszuführen,
						damit die Ansicht der Ausgabe immer den aktuellen Stand der Bearbeitung reflektiert.
						Sie löscht die kompilierten Vorlagen aus dem Verzeichnis, so dass Smarty gezwungen
						wird, bei erneuten Seitenaufruf zwingend eine neue Datei zu schreiben.
					</para>
					
					<para>
						Sie können diese Funktion ohne weitere Beeinträchtigung zu jeder Zeit ausführen.
					</para>
					
					<note>
						<para>
							Haben Sie FTP-Zugriff auf den Installspfad von Welcompose, können Sie die 
							kompilierten Vorlagen auch händisch löschen
							(Pfad: <filename>/smarty/compiled</filename>), so fern sie die notwendigen
							Rechte besitzen.
						</para>
					</note>

				</sect3>

			</sect2>
		</sect1>

</chapter>