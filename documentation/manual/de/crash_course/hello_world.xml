<sect1 id="crash_course.hello_world">
	<title>Hello World in Oak</title>
	<para>
		Begonnen werden soll mit dem klassischen Programmiererbeispiel &laquo;Hello World&raquo;.Das heisst, wir werden auf eine ganz einfache HTML-Vorlage ohne irgendwelche grafische Gestaltung zurückgreifen und nicht viel mehr als &laquo;Hello World&raquo; ausgeben. Dies ist zwar nicht besonders anspruchsvoll, versperrt durch seine Einfachheit aber auch nicht den Blick auf das Wesentliche. Und die herausfordernden Beispiele kommen noch früh
		genug.
	</para>
	
	<sect2 id="crash_course.hello_world.prepare_template">
		<title>Vorlage vorbereiten</title>
		<para>
			In einem ersten Schritt gilt es, die HTML-Vorlage für &laquo;Hello World&raquo; vorzubereiten. Es handelt sich um ein ganz einfaches Beispiel bestehend aus Seitentitel (&lt;title&gt;), Überschrift (&lt;h1&gt;) und Fliesstext (&lt;p&gt;):
		</para>
		
		<programlisting role="html"><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
    <meta http-equiv="content-Type" content="text/html; charset=iso-8859-1" />
    <title>Hello World!</title>
</head>

<body>
    <h1>Hello World!</h1>
    <p>Dies ist meine erste Webseite mit Oak.</p>
</body>
</html>
]]></programlisting>

		<para>
			Diese Vorlage soll nun in Oak integriert, mit Inhalt (Seitentitel, Überschrift und Fliesstext) aus der Datenbank befüllt und dann ausgegeben werden.
		</para>
	</sect2>
	
	<sect2 id="crash_course.hello_world.integrate_template">
		<title>Vorlage integrieren</title>
		<para>Um die Vorlage in Oak zu integrieren, melden Sie sich bei Oak an und wechseln in den Bereich <emphasis>Templating</emphasis>. Zuerst muss ein Template Set angelegt werden:</para>
		
		<orderedlist>
			<listitem>Klicken Sie auf <emphasis>Template Sets</emphasis> und dort dann auf <emphasis>Add new</emphasis>.</listitem>
			<listitem>Geben Sie beim Feld <emphasis>Name</emphasis> den Namen des neuen Template Sets ein. Im Beispiel verwenden wir <code>default_template_set</code>.</listitem>
			<listitem>Klicken Sie auf <emphasis>Add template set</emphasis>.</listitem>
		</orderedlist>
		
		<para>Nun muss die Vorlage in Oak integriert werden.</para>
		
		<orderedlist>
			<listitem>Klicken Sie auf <emphasis>Templates</emphasis> und dort dann auf <emphasis>Add new</emphasis>.</listitem>
			<listitem>Wählen Sie beim Feld <emphasis>Type</emphasis> aus der Liste den Eintrag <code>simple_page_index</code> aus.</listitem>
			<listitem>Geben Sie beim Feld <emphasis>Name</emphasis> den Namen der Vorlage ein. Schreiben Sie <code>Startseite</code> in das Feld.</listitem>
			<listitem>Kopieren Sie nun unsere Vorlage (die gesamte Vorlage) aus dem Abschnitt <link linkend="crash_course.hello_world.prepare_template">Vorlage vorbereiten</link> in die Zwischenablage und fügen sie in das Feld <emphasis>Content</emphasis> ein.</listitem>
			<listitem>Scrollen Sie an das Ende des Formulars und wählen bei <emphasis>Sets</emphasis> das vorher angelegte Template Seit <code>default_template_set</code> aus. Klicken Sie dann auf <emphasis>Add template</emphasis>.</listitem>
		</orderedlist>
		
		<para>
			Jetzt muss noch eine Seite angelegt werden, damit die Vorlage von Oak angezeigt werden kann.
		</para>
		
		<orderedlist>
			<listitem>Klicken Sie in der Hauptnavigation auf <emphasis>Contents</emphasis> und dann auf <emphasis>Navigations</emphasis>.</listitem>
			<listitem>Klicken Sie nun auf <emphasis>Add new</emphasis>.</listitem>
			<listitem>Geben Sie beim Feld <emphasis>Name</emphasis> den Namen ihrer Navigation ein. Im Beispiel verwenden wir <code>Hauptnavigation</code>.</listitem>
			<listitem>Klicken Sie nun auf <emphasis>Add navigation</emphasis>.</listitem>
			<listitem>Gehen Sie nun zur Subnavigation und klicken Sie dort auf den Bereich <emphasis>Pages</emphasis>. Sie gelangen so zum Pagemanager. Dort sehen Sie bereits die Navigation, die Sie soeben angelegt haben, eingeblendet. Klicken Sie unter dem grauen Balken, der mit <emphasis>Hauptnavigation</emphasis> beschriftet ist, auf das grüne Icon mit dem Plus unter der Überschrift <emphasis>Add</emphasis>.</listitem>
			<listitem>Ignorieren Sie das Feld <emphasis>Position</emphasis> und gehen direkt zum Feld <emphasis>Name</emphasis>. Geben Sie dort den Namen der Seite, also <code>Startseite</code> ein.</listitem>
			<listitem>Wechseln Sie nun zum Feld <emphasis>Type</emphasis> und selektieren Sie in der Auswahlliste den Eintrag <code>OAK_SIMPLE_PAGE</code>.</listitem>
			<listitem>Stellen Sie sicher, dass beim Feld <emphasis>Template set</emphasis> das von uns erstellte Template Set <code>default_template_set</code> ausgewählt ist.</listitem>
			<listitem>Kreuzen Sie das Feld <emphasis>Index page</emphasis> an und klicken dann auf <emphasis>Add page</emphasis>.</listitem>
		</orderedlist>
		
		<para>
			Nun sind alle Vorbereitungen getroffen, um die hinterlegte Vorlage zum ersten Mal anzeigen zu lassen. Öffnen Sie ein neues Browserfenster und besuchen Sie das Installationsverzeichnis von Oak. Ihr Browser sollte nun den HTML-Code, wie Sie ihn hinterlegt haben, anzeigen.
		</para>
		
		<figure>
			<title>&laquo;Hello World&raquo; aus der Vorlage</title>
			<graphic fileref="../images/crash_course.hello_world.integrate_template.hello_world_with_template.png"></graphic>
		</figure>
		
	</sect2>
	
	<sect2>
		<title>Vorlage mit Datenbank verbinden</title>
		<para>
			Oak zeigt nun die Vorlage und im Prinzip auch die Inhalte an, die wir haben wollen. Doch wenn man sie ändern wollen würde, müsste man jedes Mal die Vorlage anfassen. Dies ist mit den Formularen, die Oak bereitstellt, viel praktischer. Darum muss die Vorlage jetzt so aufbereitet werden, dass sie die in der Datenbank vorliegenden Inhalte anzeigt.
		</para>
		
		<para>
			Bevor die Vorlage mit der Datenbank verbunden werden kann, muss man zuerst für Inhalte sorgen, die angezeigt werden können:
		</para>
		
		<orderedlist>
			<listitem>Klicken Sie auf <emphasis>Contents</emphasis> und dann auf <emphasis>Pages</emphasis>. Nun haben Sie den Pagemanager vor sich.</listitem>
			<listitem>Gehen Sie zum grauen Balken, der mit <code>Hauptnavigation</code> beschriftet ist und klicken Sie bei der im letzten Abschnitt angelegten Seite <code>Startseite</code> auf das grüne Icon mit dem Stift unter der Überschrift <emphasis>Edit</emphasis>.</listitem>
			<listitem>Gehen Sie zum Feld <emphasis>Title</emphasis> und ersetzen den bestehenden Titel <code>Startseite</code> mit <code>Hello World mit Oak!</code>.</listitem>
			<listitem>Schreiben Sie nun bei <emphasis>Content</emphasis> einen Satz wie <code>Dies ist Text aus der Datenbank.</code> hinein und klicken Sie auf <emphasis>Update page</emphasis>.</listitem> 
		</orderedlist>
		
		<para>
			Hiermit wären die Inhalte für die Startseite definiert. Nun muss die Vorlage nur noch dazu bewegt werden, diese anzuzeigen. Wechseln Sie zu diesem Zweck in den Bereich <emphasis>Templating</emphasis> und klicken auf <emphasis>Templates</emphasis>.
		</para>
		
		<orderedlist>
			<listitem>Klicken Sie auf der Zeile mit dem Namen <code>Startseite</code> auf das grüne Icon mit dem Stift unter dem Titel <emphasis>Edit</emphasis>.</listitem>
			<listitem>Suchen Sie nun den <code>&lt;title&gt;</code> und löschen den Text <code>Hello World!</code>. Ersetzen Sie ihn mit folgendem &laquo;Text&raquo;: <code>{$simple_page.title}</code>.</listitem>.
			<listitem>Wiederholen Sie den letzten Schritt mit der Überschrift &lt;h1&gt;</listitem>
			<listitem>Ersetzen Sie nun den Fliesstext (&lt;p&gt;) inklusive des &lt;p&gt;-Tags mit folgendem Text: <code>{$simple_page.content}</code>.</listitem>
			<listitem>Klicken Sie jetzt auf <emphasis>Update template</emphasis>.</listitem>
		</orderedlist>
		
		<para>
			Ihre Vorlage sollte nun so aussehen:
		</para>
		
		<programlisting role="html"><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
    <meta http-equiv="content-Type" content="text/html; charset=iso-8859-1" />
    <title>{$simple_page.title}</title>
</head>

<body>
    <h1>{$simple_page.title}</h1>
    {$simple_page.content}
</body>
</html>
]]></programlisting>
	
		<para>
			Öffnen Sie wieder ein zweites Browserfenster und besuchen Ihr Installationsverzeichnis. Jetzt sollten Sie wieder Ihre Vorlage sehen, statt der ursprünglichen Inhalte sollten Sie aber die Inhalte sehen, die Sie soeben in die Datenbank eingegeben haben.
		</para>
	
		<figure>
			<title>&laquo;Hello World&raquo; mit Oak</title>
			<graphic fileref="../images/crash_course.hello_world.integrate_template.hello_world_with_oak.png"></graphic>
		</figure>
		
		<para>Und damit ist es Zeit, Ihnen zu gratulieren. Denn Sie haben soeben Ihre erste einfache Webseite mit Oak erstellt.</para>
		
	</sect2>
	
	<sect2 id="crash_course.hello_world.style">
		<title>Hello World mit Stil</title>
		
		<para>Bisher haben wir unsere eigene Vorlage vorbereitet, in Oak integriert und mit der Datenbank verbunden. Allerdings sieht unser &laquo;Hello World&raquo; noch recht uninspiriert aus. Also ist es Zeit, ihm mit CSS ein wenig Farbe zu verleihen.</para>
		
		<note>
			<para>
				Es liegt uns fern, Ihnen vorschreiben zu wollen, wie Sie Ihre Webseiten gestalten. Allerdings soll darauf hingewiesen werden, dass tabellenfreies Design und &laquo;High-end CSS&raquo; Oak und den Anwendern deutlich besser bekommt als Layout-Tabellen und grosse Mengen von Inline-Styles. Konsultieren Sie bitte, bevor Sie sich an die ersten HTML-Vorlagen für Oak setzen, unsere Hinweise zur Verwendung von CSS und zur Kombination von CSS und den mit Oak mitgelieferten Textkonvertern. 
			</para>
		</note>
		
		<para>Wie bereits bei der Vorlage handelt es sich um ein ganz einfaches Style Sheet, das Überschrift und Fliesstext einen anderen Font und eine andere Schriftgrösse verpassen soll. Zudem soll ein kleines Logo integriert werden, das über das Style Sheet eingebunden wird.</para>
		
		<programlisting role="css"><![CDATA[body {
    font-family: Georgia, "Times New Roman", Times, serif;
    background-image: url(logo.png);
    background-repeat: no-repeat;
    background-position: 20px 10px;
    margin-left: 40px;
    margin-top: 70px;
}

h1 {
    font-size: 1.9em;
    font-style: italic;
}

p {
	font-size: 1em;
}
]]></programlisting>
	
		<para>Normalerweise würde man dieses Style Sheet nun auf der Festplatte abspeichern und beispielsweise mit einem FTP-Client auf den Server transferieren. Dies geht auch bei Oak, allerdings ist dies nicht &laquo;the way to go&raquo;. Da Oak dazu in der Lage ist, mehrere Webseiten mit einer Software-Installation zu betreiben und in diesen Szenarien die Anwender meist keinen FTP-Zugang o.ä. erhalten, sind spezielle Funktionen zur Integration von Style Sheets, JavaScript usw. integriert.</para>
		
		<orderedlist>
			<listitem>Gehen Sie in Oak zum Bereich <emphasis>Templating</emphasis> und klicken dort auf <emphasis>Global Templates</emphasis>. Klicken Sie dort dann auf <emphasis>Add new</emphasis>.</listitem>
			<listitem>Geben Sie beim Feld <emphasis>Name</emphasis> einen Namen für Ihr Style Sheet an. Der Einfachheit halber bietet es sich an, einen Dateinamen wie <filename>style.css</filename> zu verwenden.</listitem>
			<listitem>Kopieren Sie das vorbereitete Style Sheet in die Zwischenablage und fügen es in das Feld <emphasis>Content</emphasis> ein.</listitem>
			<listitem>Wählen Sie beim Feld <emphasis>MIME Type</emphasis> den Eintrag <code>text/css</code> aus.</listitem>
			<listitem>Kreuzen Sie nun noch <emphasis>Change Delimiter</emphasis> and und klicken dann auf <emphasis>Add global template</emphasis>, um das Style Sheet zu speichern.</listitem>
		</orderedlist>
		
		<para>Jetzt ist das Style Sheet in Oak registriert und kann wie ein herkömmliches auf der Festplatte verknüpfte Style Sheet mit der Vorlage verknüpft werden. Gehen Sie zu diesem Zweck im Bereich <emphasis>Templating</emphasis> zum Bereich <emphasis>Templates</emphasis> und klicken bei der Vorlage <code>Startseite</code> auf das Icon zum Bearbeiten der Vorlage.</para>
		
		<para>Referenzieren Sie nun das Style Sheet im Header der Vorlage unter Verwendung der folgenden HTML-Anweisung:</para>
		
		<programlisting role="css"><![CDATA[<link rel="stylesheet" type="text/css" href="{global_template name="style.css"}" />]]></programlisting>
		
		<para>Der komplette Quellcode Ihrer Vorlage sollte nun so aussehen:</para>
		
		<programlisting role="html"><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
    <meta http-equiv="content-Type" content="text/html; charset=iso-8859-1" />
    <title>{$simple_page.title}</title>
    <link rel="stylesheet" type="text/css" href="{global_template name="style.css"}" />
</head>

<body>
    <h1>{$simple_page.title}</h1>
    {$simple_page.content}
</body>
</html>
]]></programlisting>
		
		<para>Öffnen Sie nun wieder ein zweites Browser-Fenster und gehen Sie ins Installationsverzeichnis. Wenn Sie alles richtig gemacht haben, sollten Sie sehen, dass Überschrift und Fliesstext weiter vom Rand entfernt sind als vorher und dass die Überschrift 1 (&lt;h1&gt;) kursiv gesetzt ist. Ebenfalls angezeigt werden sollte ein Logo, doch fehlt es. Doch keine Sorge, das ist nicht Ihr Fehler. Beheben wir gleich.</para>
		
		<figure>
			<title>&laquo;Hello World&raquo; mit anderem Font</title>
			<graphic fileref="../images/crash_course.hello_world.integrate_template.hello_world_with_oak_and_font_style.png"></graphic>
		</figure>
		
		<para>
			Genauso wie Style Sheets in Oak abgelegt werden können respektive müssen, wird auch mit Bildern verfahren, die in Style Sheets referenziert werden. Sie müssen zuerst in Oak registriert werden, damit sie im Style Sheet referenziert werden können.
		</para>
		
		<orderedlist>
			<listitem>Gehen Sie im Bereich <emphasis>Templating</emphasis> zum Unterbereich <emphasis>Global Files</emphasis> und klicken Sie dort auf <emphasis>Add new</emphasis>.</listitem>.
			<listitem>Wählen Sie beim Feld <emphasis>File</emphasis> das Logo aus, das im Style Sheet referenziert werden soll. In diesem Fall handelt es sich um die Datei <filename>logo.png</filename>.</listitem>
		</orderedlist>
		
		<para>
			Somit wäre das Logo bereits in Oak registriert. Nun muss es noch mit dem Style Sheet verknüpft werden.
		</para>
		
		<orderedlist>
			<listitem>Gehen Sie im Bereich <emphasis>Templating</emphasis> zum Punkt <emphasis>Global Templates</emphasis> und klicken Sie beim Style Sheet <filename>style.css</filename> auf das Icon unter der Überschrift <emphasis>Edit</emphasis>.</listitem>
			<listitem>Suchen Sie im Feld <emphasis>Content</emphasis> die CSS-Anweisung <code><![CDATA[background-image: url(logo.png);]]></code> und ersetzen Sie sie mit <code><![CDATA[background-image: url(<%global_file name="logo.png"%>);]]></code>.</listitem>
			<listitem>Klicken Sie am Ende des Formulars auf <emphasis>Update global template</emphasis>.</listitem>
		</orderedlist>
		
		<para>Öffnen Sie nun wieder ein zweites Browser-Fenster und gehen Sie ins Installationsverzeichnis. Wenn Sie alles richtig gemacht haben, sollte nun auch das Logo erscheinen.</para>
		
		<figure>
			<title>&laquo;Hello World&raquo; mit anderem Font und Logo</title>
			<graphic fileref="../images/crash_course.hello_world.integrate_template.hello_world_with_oak_and_font_and_logo_style.png"></graphic>
		</figure>
	</sect2>
</sect1>